<context>
# 概述  
**痛点‑解决方案缺口｜你是否曾在 YouTube 上发现一支精彩视频，却苦于没有时间完整观看，更别说把它转化为一篇能在 Medium 上火爆传播的图文文章？**  
本产品——**YT‑Article Craft**——是一款基于 Python 与 PyQt6 界面的桌面应用，它自动将 YouTube 视频转写、提炼要点、截取关键画面并生成符合 Medium 写作风格的图文并茂文章，同时通过 AI‑Evasion 模块让内容顺利通过 AI 检测。目标用户涵盖  
- 想快速沉淀视频内容的 **内容创作者 / 博主**  
- 需要高效率内容再利用的 **品牌营销⼈员**  
- 追求 SEO 流量的 **独⽴站运营者**  

借助 YT‑Article Craft，用户可在数分钟内完成「视频 ➜ 优质文章」的闭环，大幅缩短创作周期并提升流量转化率。

##核心功能
| 功能                   | 作用                                               | 重要性                                   | 高级工作原理                                           |
|------------------------|----------------------------------------------------|------------------------------------------|--------------------------------------------------------|
| 视频智能转写           | 调用 whisper / ASR 模型自动生成逐句文稿           | 提供文章原材料                           | 后端异步拉流 ➜ 分段转写 ➜ 分词 / 语义打标签            |
| 关键帧提取             | 抓取情绪峰值 / 主题转换处的画面                   | 丰富文章视觉效果， 提高停留时长         | 结合语义分段 + SceneDetect 算法                       |
| Medium 风格段落生成   | 输出痛点导入、故事化叙述、简洁小标题的段落       | 符合用户期望的阅读体验                   | Prompt-Engine + Few-Shot 训练                          |
| AI 检测规避            | 重写与人类化语气微调                             | 降低被「AI 水文」算法降权风险           | Language Model Rewriter + 可解释特征抗动              |
| 一键发布草稿           | 直接推送到 Medium / WordPress                    | 减少跳转步骤，加速发布                   | OAuth 授权 ➜ API 发布                                  |
| 多语言翻译             | 支持中 / 英等多语                                | 扩大受众，提升 SEO                       | Deep-L / GPT-4o 翻译后本地校正                         |
| 项目模板库             | 保存常用的品牌口吻、CTA、配色方案               | 保持内容一致性                           | 本地 JSON 模板 + 配置面板                             |


# 用户体验  
### • 用户画像

- “时间紧 but 想要高质输出”的个人博主  
- “整合视频素材做 SEO”的电商运营  
- “用内容孵化社群”的知识付费讲师  

---

### • 关键流程

1. 粘贴 YouTube 链接 → 2. 选择语言 & 文章模板 → 3. 点击「生成」  
2. 预览图文（可拖拽编辑）→ 5. 一键发布或导出 Markdown/PDF  

---

### • UI/UX 注意事项

- 采用三栏布局：左侧任务列表、中间编辑区、右侧实时预览  
- 进度条 + 动态提示（Rehooking：每 3 行分析提示一次进度）  
- 关键帧可直接拖入编辑区，所见即所得  
- 顶部醒目「立即发布」CTA，增强行动驱动力  

</context>

<PRD>
# 技术架构  
- **系统组件**  
  - **UI 层（PyQt 6）**：MainWindow、TaskDock、PreviewPane  
  - **服务层**：  
    - *Transcriber Service*（Whisper）  
    - *Summarizer & Rewriter*（OpenAI API）  
    - *Keyframe Extractor*（OpenCV + SceneDetect）  
    - *Detector Bypass*（style‑mix + paraphrase）  
  - **数据层**：SQLite 任务缓存；本地 Media 缓存；模板 JSON  

# 数据模型

- `VideoTask {id, url, lang, status, transcript, frames[], article}`
- `Template {id, name, tone, cta, brand}`

---

# API & 集成

- YouTube DL 拉流（yt-dlp）
- OpenAI 接口（GPT-4o, DALL·E 3）
- Medium / WordPress 发布 API

---

# 基础设施

- 可选 GPU 加速（NVIDIA / Apple Metal）
- 本地模型缓存目录，离线可用


# 开发路线图  
| 阶段      | 范围（功能包）                                                                 |
|-----------|----------------------------------------------------------------------------------|
| **MVP v0.1** | UI 框架 + YouTube 下载 + Transcript 生成 + 最简摘要 ➜ Markdown 导出         |
| v0.2      | 关键帧提取 + 图文混排编辑器 + Medium 模板                                     |
| v0.3      | AI 检测规避模块 + 多语言翻译 + 草稿发布 API                                   |
| v1.0      | 模板库管理 + 品牌色与字体配置 + 批量任务队列                                   |
| v2.0      | 团队协作（云同步）+ 细粒度权限 + 插件市场                                     |


# 逻辑依赖链  
1. **基础下载 & 转写 ➝ 摘要 / 关键帧 ➝ 文章拼装 ➝ UI 预览与编辑 ➝ 发布集成**

- 每一个阶段产出的数据均写入模型，保证独立可测。
- 前端在 v0.1 即可显示转录文本，确保“可见成果”加速反馈。


# 风险与应对措施  
| 风险                          | 影响               | 应对方案                                                |
|-----------------------------|--------------------|---------------------------------------------------------|
| OpenAI API 费用不可控        | 成本过高           | 添加本地 Llama3-8B 离线选项                            |
| ASR 在嘈杂视频上准确率低     | 内容质量下降       | 噪声检测 ➝ 自动切换 VAD/增强模型                      |
| AI 检测算法更新              | 文章被判 AI        | 模块化策略库，按需更新抗动规则                        |
| GUI 线程阻塞                 | 体验卡顿           | 任务全部改为 QThreadPool + signals                     |


# 附录  
- **研究**：Medium 热点文章结构分析、AI 文本检测特征逆向  
- **技术规格**：支持的输入分辨率、导出格式、插件接口定义  
- **早鸟计划**：首批 100 名用户享受终身 Pro 权（制造稀缺性 & 紧迫感）  

</PRD>